# Template file for 'aichat'
pkgname=aichat
version=0.23.0
revision=1
build_style=cargo
build_helper=qemu
hostmakedepends="pkg-config"
makedepends="oniguruma-devel"
short_desc="All-in-one LLM Shell Assistant, Chat-REPL, RAG, AI Tools & Agents"
maintainer="Henry Precheur <henry@precheur.org>"
license="Apache-2.0 OR MIT"
homepage="https://github.com/sigoden/aichat"
distfiles="https://github.com/sigoden/aichat/archive/refs/tags/v${version}.tar.gz"
checksum=c96341fe4c2223da2e069f16561166e5f699085597c17cdb128e86c0947ac7f6

post_install() {
	vlicense LICENSE-MIT
	vlicense LICENSE-APACHE

	vmkdir usr/share/examples/${pkgname}
	vcopy config.example.yaml usr/share/examples/${pkgname}/config.yaml

	for _shell in bash fish zsh; do
		vcompletion "scripts/completions/aichat.$_shell" "$_shell" aichat
	done
}
